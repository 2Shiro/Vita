<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.vita.pay.mapper.PayMapper"> 

	<!-- 장바구니 가져오기 -->
	<select id="getBasketList">
		SELECT	BASKET_ID,
				ID,
				PRO_ID,
				COUNT,
				STATE,
				PRICE,
				DELIVERY_CHARGE
		FROM	BASKET
		WHERE	ID = #{id}
	</select>
	
	<!-- 장바구니 상품에 대한 정보 가져오기 -->
	<select id="getProd">
		SELECT	PRO_ID,
				NAME,
				MAKE_ID,
				ING_ID,
				URL,
				FORM_ID,
				EXPLAIN,
				CAUTION,
				PRICE
		FROM	PRODUCT
		WHERE	PRO_ID = #{pro_id}
	</select>
	<select id="getImg">
				SELECT  IMG_ID,
		        PRO_ID,
		        IMG
		FROM    IMGS
		WHERE   PRO_ID = #{pro_id}
		AND     ROWNUM = 1
	</select>
	<select id="getMake">
		SELECT	MAKE_ID,
				NAME,
				TEL,
				ZIPCODE,
				ADDRESS,
				ADDRESSDETAIL
		FROM	MAKE
		WHERE	MAKE_ID = #{make_id}
	</select>
	
	<!-- 장바구니 특정 상품 정보 가져오기 -->
	<select id="getBasket">
		SELECT	BASKET_ID,
				ID,
				PRO_ID,
				COUNT,
				STATE,
				PRICE,
				DELIVERY_CHARGE
		FROM	BASKET
		WHERE	BASKET_ID = #{basket_id}
	</select>
	
	<!-- 장바구니 상품 수량 변경 -->
	<update id="updateBasketCount">
	
	    UPDATE BASKET
	    SET COUNT = #{count}
	    WHERE BASKET_ID = #{basket_id}
	
	</update>

</mapper>
